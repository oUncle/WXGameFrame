{"version":3,"sources":["assets\\Script\\Common\\CustomListItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class CustomListItem extends cc.Component {\n\n    // @property(cc.Node)\n    // itemNode: cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    protected _index = -1;\n    protected _itemData:any = null;\n    protected _callBack:Function = null;\n    protected _totalCountCallBack:Function = null;\n    protected _selectItemCallBack:Function = null;\n    protected _getSelectItemCallBack:Function = null;\n\n    onLoad () {\n\n    }\n\n    start () {\n        \n    }\n\n    /**\n     * 默认节点高度，如果有需求，子类可重写\n     */\n    getItemHeight() {\n        return this.node.height;\n    }\n\n    /**\n     * 默认节点宽度，如果有需求，子类可重写\n     */\n    getItemWidth() {\n        return this.node.width;\n    }\n\n    //这个接口只有 customListView 里调用，其他地方不要调用\n    initItem(index:number, data:any, selectData, canTouch:boolean=true, isChecked:boolean=false) {\n        if (canTouch) {\n            let toggle = this.getComponent(cc.Toggle);\n            if (!toggle) {\n                toggle = this.addComponent(cc.Toggle);\n                this.node.on('toggle', this.onTouchCustomListItem, this);\n            }\n            toggle.isChecked = isChecked;\n            // cc.log(toggle.isChecked,'customListView,initItem index ',index,\" isCheck \",isChecked);\n            \n        }\n\n        this.updateItem(index, data, selectData);\n    }\n\n    /**\n     * 更新item， 子类实现\n     * @param index \n     * @param data \n     */\n    updateItem(index:number, data:any, selectData:any) {\n        //子类实现\n        this._index = index;\n        this._itemData = data;\n    }\n\n    setIsCheckedItem(isChecked:boolean=true) {\n        let toggle = this.getComponent(cc.Toggle);\n        if (toggle) {\n            toggle.isChecked = isChecked;\n            \n            if (isChecked) {\n                this.node.parent.emit('customListSelect', this._index);\n            }\n            // cc.log(toggle.isChecked,'customListView,setIsCheckedItem index ',this._index,\" isCheck \",isChecked);\n        }\n    }\n\n    getIsCheckedItem() {\n        let toggle = this.getComponent(cc.Toggle);\n        if (toggle) {\n            return toggle.isChecked;\n        }\n        return false;\n    }\n\n    /**数据索引 */\n    getItemIndex() {\n        return this._index;\n    }\n    /**刷新点 数据 */\n    getItemData() {\n        return this._itemData;\n    }\n\n    /**\n     * onTouchCustomListItem 子类实现\n     * 回调的参数是 toggle 组件\n     */\n    onTouchCustomListItem() {\n        // cc.log('onTouchCustomListItem ',this._index);\n    }\n    \n\n    // update (dt) {}\n\n    onDestroy() {\n        \n    }\n}\n"]}