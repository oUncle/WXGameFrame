{"version":3,"sources":["assets\\Script\\Ctrl\\SdkCtrl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport GameData, { Platform } from \"../Other/GameData\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SdkCtrl {\n    private static _instance: SdkCtrl = null;\n    private rewardedVideoAdID: string = \"adunit-6540a101f4a8c50a\"\n    private bannerVideoAdID: string = \"adunit-e7e15a245af4e275\"\n    private interstitialAdID: string = \"adunit-28a31b3d2bf4910d\"\n    private leftCustomAdID: string = \"adunit-d997016c94b9a967\"\n    private rightCustomAdID: string = \"adunit-fbec0e638eb678e5\"\n    private flveCustomAdID: string = \"adunit-95ada28c31289ae7\"\n    public rewardedVideoAd: any = null;\n    public bannerVideoAd: any = null;\n    public successFun: Function = null\n    public failFun: Function = null\n    public fiveCustom: any;\n    public isfiveCustom: boolean = false\n\n    public static getInstance() {\n        if (!this._instance) {\n            this._instance = new SdkCtrl();\n            this._instance._init();\n        }\n        return this._instance;\n    }\n\n    private _init() {\n        if (GameData.getPlatform() == Platform.wx) {\n            this.showShareMenu()\n            this.onShareAppMessage()\n\n            this.rewardedVideoAd = wx.createRewardedVideoAd({ adUnitId: this.rewardedVideoAdID })\n            this.rewardedVideoAd.onError(err => {\n                console.log(\"激励视频 \" + err);\n                if (this.failFun) {\n                    this.failFun()\n                    this.failFun = null\n                }\n                GameData.isPause = false\n                return;\n            })\n            this.rewardedVideoAd.onLoad(() => {\n                console.log('激励视频 广告加载成功');\n                this.rewardedVideoAd.onClose(res => {\n                    // 用户点击了【关闭广告】按钮\n                    // 小于 2.1.0 的基础库版本，res 是一个 undefined\n                    if (res && res.isEnded || res === undefined) {\n                        // 正常播放结束，可以下发游戏奖励\n                        console.log('激励视频 广告播放完毕');\n                        if (this.successFun) {\n                            this.successFun()\n                            this.successFun = null\n                        }\n                        GameData.isPause = false\n                    } else {\n                        // 播放中途退出，不下发游戏奖励\n                        console.log('激励视频 广告播放中途退出');\n                        if (this.failFun) {\n                            this.failFun()\n                            this.failFun = null\n                        }\n                        GameData.isPause = false\n                        return;\n                    }\n                });\n            });\n\n            let systemInfo = wx.getSystemInfoSync();\n            let screenWidth = systemInfo.screenWidth;\n            let screenHeight = systemInfo.screenHeight;\n            this.bannerVideoAd = wx.createBannerAd({\n                adUnitId: this.bannerVideoAdID,\n                adIntervals: 30, // 自动刷新频率不能小于30秒\n                style: {\n                    top: screenHeight - 100,\n                    left: (screenWidth / 2) - 150,\n                    width: 150,\n                    height: 40,\n                }\n            });\n            this.bannerVideoAd.onError(err => {\n                console.log(\"banner1广告错误 \" + err);\n            })\n            this.bannerVideoAd.onLoad(() => { });\n        }\n    }\n\n    ShowRewardedVideoAd(successFun: Function, failFun: Function = () => { }) {\n        switch (GameData.getPlatform()) {\n            case Platform.wx:\n                {\n                    GameData.isPause = true\n                    this.successFun = successFun\n                    this.failFun = failFun\n                    this.rewardedVideoAd.show().catch(() => {\n                        // 失败重试\n                        this.rewardedVideoAd.load()\n                            .then(() => this.rewardedVideoAd.show())\n                            .catch(err => {\n                                console.log('激励视频 广告显示失败,可能是没加载出来')\n                                if (this.failFun) {\n                                    this.failFun()\n                                    this.failFun = null\n                                }\n                                GameData.isPause = false\n                                return;\n                            })\n                    });\n                }\n                break;\n            default:\n                cc.log(\"观看广告\")\n                successFun()\n                break;\n        }\n    }\n\n    ShowBanner() {\n        switch (GameData.getPlatform()) {\n            case Platform.wx:\n                this.bannerVideoAd.show();\n                break;\n        }\n    }\n\n    HideBanner() {\n        switch (GameData.getPlatform()) {\n            case Platform.wx:\n                this.bannerVideoAd.hide();\n                break;\n        }\n    }\n\n    getSetting() {\n        console.log(\"获取信息\");\n        let pingtai = GameData.getPlatform()\n        switch (pingtai) {\n            case Platform.wx:\n                {\n                    wx.getSetting({\n                        success(res) {\n                            if (res.authSetting['scope.userInfo']) {\n                                // 已经授权，可以直接调用 getUserInfo 获取头像昵称\n                                wx.getUserInfo({\n                                    success: function (res) {\n                                        console.log(\"个人信息1\", res);\n                                        const userInfo = res.userInfo;\n                                        //保存数据，进入游戏主界面\n                                        this._userInfo = userInfo\n                                    }\n                                })\n                            } else {\n                                // 未授权的要调用 createUserInfoButton 创建按钮引导玩家点击\n                                const systemInfo = wx.getSystemInfoSync();\n                                const safeArea = systemInfo.safeArea;\n                                const button = wx.createUserInfoButton({\n                                    type: 'text',\n                                    text: '授权登录',\n                                    style: {\n                                        left: safeArea.left,\n                                        top: (safeArea.top - safeArea.height / 2 - 25),\n                                        width: safeArea.width,\n                                        height: 50,\n                                        lineHeight: 50,\n                                        backgroundColor: '#90ef62',\n                                        color: '#ffffff',\n                                        textAlign: 'center',\n                                        fontSize: 20,\n                                        borderRadius: 5\n                                    }\n                                })\n                                button.onTap((res) => {\n                                    const userInfo = res.userInfo;\n                                    if (res && userInfo) {\n                                        //保存数据，进入游戏主界面\n                                        this._userInfo = userInfo\n                                        console.log(\"个人信息2\", res);\n                                    }\n                                })\n                            }\n                        }\n                    })\n                }\n                break;\n        }\n\n    }\n\n    /** 给好友排行榜发送消息 */\n    postMessage(score: number) {\n        let pingtai = GameData.getPlatform()\n        switch (pingtai) {\n            case Platform.wx:\n                {\n                    wx.getOpenDataContext().postMessage({\n                        score: score,\n                        dayTime: new Date().getTime()\n                    });\n                }\n                break;\n        }\n    }\n\n    /** 更新好友排行榜 */\n    updataFriendList() {\n        let pingtai = GameData.getPlatform()\n        switch (pingtai) {\n            case Platform.wx:\n                {\n                    wx.getOpenDataContext().postMessage({});\n                }\n                break;\n        }\n    }\n\n    /** 打开另一个小程序 */\n    navigateToMiniProgram(appId: string) {\n        let pingtai = GameData.getPlatform()\n        switch (pingtai) {\n            case Platform.wx:\n                {\n                    wx.navigateToMiniProgram({\n                        appId: appId,\n                        path: 'page/index/index?id=123',\n                        extraData: {\n                            foo: 'bar'\n                        },\n                        envVersion: 'develop',\n                        success(res) {\n                            // 打开成功\n                        }\n                    })\n                }\n                break;\n        }\n    }\n\n    /** 创建游戏圈 */\n    createGameClubButton() {\n        let pingtai = GameData.getPlatform()\n        switch (pingtai) {\n            case Platform.wx:\n                {\n                    let button = wx.createGameClubButton({\n                        icon: 'light',\n                        style: {\n                            left: 10,\n                            top: 76,\n                            width: 40,\n                            height: 40\n                        }\n                    })\n                }\n                break;\n        }\n    }\n\n    /** 打开分享游戏权限 */\n    showShareMenu() {\n        if (GameData.getPlatform() == Platform.wx) {\n            wx.showShareMenu({\n                withShareTicket: true,\n                menus: ['shareAppMessage', 'shareTimeline'],\n                success(res) { },\n                fail(e) { }\n            })\n        }\n    }\n\n    /** 主动分享 */\n    shareAppMessage(fun: Function = null) {\n        if (fun) {\n            GameData.showGameEvent.push(fun)\n        }\n        if (GameData.getPlatform() == Platform.wx) {\n            let titleList = [\"超级好玩的游戏！\"]\n            wx.shareAppMessage({\n                title: titleList[Math.floor(Math.random() * titleList.length)],\n            })\n            this.onShareAppMessage()\n        }\n    }\n\n    /** 监听游戏分享修改分享图片和标题 */\n    onShareAppMessage() {\n        if (GameData.getPlatform() == Platform.wx) {\n            let titleList = [\"超级好玩的游戏！\"]\n            wx.onShareAppMessage(function () {\n                return {\n                    title: titleList[Math.floor(Math.random() * titleList.length)],\n                    // imageUrlId: \"JPPuijKQSKCj1mwBV9mWZA==\",\n                    // imageUrl: \"https://mmocgame.qpic.cn/wechatgame/JzZlAvNISNnZ5QFLibX8SniapOPfBxIfVX1HN0w3icVGLwMdtv5YkBq2pHBfnGg16Nb/0\"\n                }\n            })\n        }\n    }\n\n    /** 显示插屏广告 */\n    showInterstitialAd() {\n        // 定义插屏广告\n        if (GameData.getPlatform() == Platform.wx) {\n            let interstitialAd = null\n\n            // 创建插屏广告实例，提前初始化\n            if (!interstitialAd) {\n                if (wx.createInterstitialAd) {\n                    interstitialAd = wx.createInterstitialAd({\n                        adUnitId: this.interstitialAdID\n                    })\n                }\n            }\n\n            // 在适合的场景显示插屏广告\n            if (interstitialAd) {\n                interstitialAd.show().catch((err) => {\n                    console.error(err)\n                })\n            }\n        }\n    }\n\n    /** 创建原生模板广告组件-五行格子广告-弹窗 */\n    leftCustom: any;\n    rightCustom: any;\n    isShowCustom: boolean = false\n    showCustomAd() {\n        if (GameData.getPlatform() == Platform.wx) {\n            this.isShowCustom = true\n            let leftId = this.leftCustomAdID;\n            let rightId = this.rightCustomAdID;\n            let winSize = wx.getSystemInfoSync();\n            let leftStyle = {\n                left: 15,\n                top: 120,\n                fixed: false,\n            }\n\n            let rightStyle = {\n                left: winSize.screenWidth - 70,\n                top: 120,\n                fixed: false,\n            }\n\n            if (this.leftCustom) {\n                this.leftCustom.show();\n            } else {\n                this.leftCustom = wx.createCustomAd({\n                    adUnitId: leftId,  //'adunit-abf9c63427c3a38a',\n                    style: leftStyle\n                });\n                this.leftCustom.onLoad(() => {\n                    console.log('原生模板 广告加载成功');\n                    if (this.isShowCustom) {\n                        this.leftCustom.show().then(() => console.log('原生模板 广告显示成功')).catch((err) => {\n                            console.log(\"原生模板 广告显示失败\", err)\n                        })\n                    }\n                })\n            }\n\n            if (this.rightCustom) {\n                this.rightCustom.show();\n            } else {\n                this.rightCustom = wx.createCustomAd({\n                    adUnitId: rightId,  //'adunit-abf9c63427c3a38a',\n                    style: rightStyle\n                });\n                this.rightCustom.onLoad(() => {\n                    console.log('原生模板 广告加载成功');\n                    if (this.isShowCustom) {\n                        this.rightCustom.show().then(() => console.log('原生模板 广告显示成功')).catch((err) => {\n                            console.log(\"原生模板 广告显示失败\", err)\n                        })\n                    }\n                })\n            }\n        }\n    }\n\n    /** 隐藏格子广告 */\n    hideCustomAd() {\n        this.isShowCustom = false\n        if (this.leftCustom) {\n            this.leftCustom.hide()\n        }\n        if (this.rightCustom) {\n            this.rightCustom.hide()\n        }\n    }\n\n    /** 手机振动 */\n    QuakeScreen() {\n        if (GameData.getPlatform() == Platform.wx) {\n            wx.vibrateLong({\n                success: (t) => {\n                    console.log(\"\" + t)\n                },\n                fail: (t) => {\n                    console.log(\"vibrateLong调用失败\")\n                }\n            })\n        }\n    }\n\n    /** 创建原生模板广告组件-五行格子广告-弹窗 */\n    showFiveCustomAd() {\n        if (GameData.getPlatform() == Platform.wx) {\n            this.isfiveCustom = true\n            let winSize = wx.getSystemInfoSync();\n            let leftStyle = {\n                left: 0,\n                top: 100,\n                fixed: false,\n            }\n\n            if (this.fiveCustom) {\n                this.fiveCustom.show();\n            } else {\n                this.fiveCustom = wx.createCustomAd({\n                    adUnitId: this.flveCustomAdID,  //'adunit-abf9c63427c3a38a',\n                    style: leftStyle\n                });\n                this.fiveCustom.onLoad(() => {\n                    console.log('原生模板 广告加载成功');\n                    if (this.isfiveCustom) {\n                        this.fiveCustom.show().then(() => console.log('原生模板 广告显示成功')).catch((err: any) => {\n                            console.log(\"原生模板 广告显示失败\", err)\n                        })\n                    }\n                })\n            }\n        }\n    }\n}\n"]}