{"version":3,"sources":["assets\\Script\\UIManager\\GameSetting\\GameSetting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIParent from \"../../Base/UIParent\";\nimport { GameEvent } from \"../../Config/GameEventConfig\";\nimport SdkCtrl from \"../../Ctrl/SdkCtrl\";\nimport GameUtils from \"../../GameUtils/GameUtils\";\nimport GameEventManager from \"../../Manager/GameEventManager\";\nimport GameData from \"../../Other/GameData\";\nimport SoundMgr from \"../../Other/SoundMgr\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GameSetting extends UIParent {\n    @property(cc.Slider)\n    bg1MusicSlider: cc.Slider = null;\n    @property(cc.Slider)\n    bg1AudioSlider: cc.Slider = null;\n    @property(cc.ProgressBar)\n    bg1MusicBar: cc.ProgressBar = null;\n    @property(cc.ProgressBar)\n    bg1AudioBar: cc.ProgressBar = null;\n\n    @property(cc.Node)\n    closeGameBtn: cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n    private _isSetMusic: boolean = true\n    private _isSetAudio: boolean = true\n    private _musicNum: number = 0\n    private _audioNum: number = 0\n\n    ShowUI(data: any) {\n        super.ShowUI(data);\n        GameData.isPause = true\n        this._musicNum = SoundMgr.getInstance().getBgmVolume()\n        this._audioNum = SoundMgr.getInstance().getAudioVolume()\n        this.bg1MusicSlider.progress = this._musicNum\n        this.bg1AudioSlider.progress = this._audioNum\n        this.bg1MusicBar.progress = this._musicNum\n        this.bg1AudioBar.progress = this._audioNum\n        this._isSetMusic = true\n        this._isSetAudio = true\n        SdkCtrl.getInstance().ShowBanner()\n        GameUtils.getInstance().setVisible(this.closeGameBtn, data == 1)\n    }\n\n    onClickMusicSlider(sender, event) {\n        this._musicNum = sender.progress\n        if (this._isSetMusic) {\n            this._isSetMusic = false\n            SoundMgr.getInstance().setBgmVolume(this._musicNum)\n            GameUtils.getInstance().setProgress(this.bg1MusicBar, this._musicNum)\n            this.scheduleOnce(() => {\n                this._isSetMusic = true\n                SoundMgr.getInstance().setBgmVolume(this._musicNum)\n                GameUtils.getInstance().setProgress(this.bg1MusicBar, this._musicNum)\n            }, 0.02)\n        }\n    }\n\n    onClickAoudioSlider(sender, event) {\n        this._audioNum = sender.progress\n        if (this._isSetAudio) {\n            this._isSetAudio = false\n            SoundMgr.getInstance().setAudioVolume(this._audioNum)\n            GameUtils.getInstance().setProgress(this.bg1AudioBar, this._audioNum)\n            this.scheduleOnce(() => {\n                this._isSetAudio = true\n                SoundMgr.getInstance().setAudioVolume(this._audioNum)\n                GameUtils.getInstance().setProgress(this.bg1AudioBar, this._audioNum)\n            }, 0.02)\n        }\n    }\n\n    onClickClose() {\n        this.HideUI()\n    }\n\n    HideUI(fun?: () => void): void {\n        super.HideUI(fun)\n        GameData.isPause = false\n        SdkCtrl.getInstance().HideBanner()\n    }\n\n    sendEvent(eventId: GameEvent, data: any = null) {\n        GameEventManager.getInstance().dispathcGameEvent(eventId, data);\n    }\n}"]}