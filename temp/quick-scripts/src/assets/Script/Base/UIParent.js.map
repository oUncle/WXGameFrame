{"version":3,"sources":["assets\\Script\\Base\\UIParent.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameBaseEventNode from \"../Base/GameBaseEventNode\";\nimport { GameEvent } from \"../Config/GameEventConfig\";\nimport GameEventManager from \"../Manager/GameEventManager\";\nimport UIManager from \"../Manager/UIManager\";\nimport GameData from \"../Other/GameData\";\nimport SoundMgr from \"../Other/SoundMgr\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UIParent extends GameBaseEventNode {\n\n    @property(cc.Node)\n    uiAnimObj: cc.Node = null;\n    @property\n    isShowWinAudio: boolean = true;\n\n    uiManager: UIManager;\n    firstOpenUI: boolean = true;\n    widData: any = null\n    isWinAnim: boolean = false\n\n    //进度条加载完初始化\n    InitUI(uiMain) {\n        this.uiManager = uiMain;\n        GameEventManager.getInstance().pushNodeEvent(this);\n        if (this.uiAnimObj) {\n            this.uiAnimObj.scale = GameData.sizeType\n        }\n        let widget = this.node.getComponent(cc.Widget)\n        if (widget) {\n            widget.top = 0\n            widget.bottom = 0\n            widget.left = 0\n            widget.right = 0\n        }\n    }\n\n     //打开界面\n     ShowUI(data: any = null, fun = () => { }) {\n        this.widData = data\n        if (this.uiAnimObj) {\n            if (!this.isWinAnim) {\n                this.isWinAnim = true\n                this.uiAnimObj.scale = 0;\n                cc.Tween.stopAllByTarget(this.uiAnimObj)\n                cc.tween(this.uiAnimObj)\n                    .to(0.25, { scale: GameData.sizeType + 0.2 })\n                    .to(0.15, { scale: GameData.sizeType - 0.1 })\n                    .to(0.1, { scale: GameData.sizeType })\n                    .call(() => {\n                        this.isWinAnim = false\n                        fun();\n                    })\n                    .start();\n            }\n        }\n        this.node.active = true;\n        if (this.firstOpenUI) {\n            this.firstOpenUI = false;\n            this.FirstOpen();\n        }\n        this.UpdataFXData();\n        SoundMgr.getInstance().playFx(\"win_open\")\n    }\n\n    //隐藏界面\n    HideUI(fun = () => { }) {\n        if (this.uiAnimObj) {\n            if (!this.isWinAnim) {\n                this.isWinAnim = true\n                cc.Tween.stopAllByTarget(this.uiAnimObj)\n                cc.tween(this.uiAnimObj)\n                    .to(0.1, { scale: GameData.sizeType + 0.2 })\n                    .to(0.25, { scale: 0 })\n                    .call(() => {\n                        this.isWinAnim = false\n                        this.node.active = false;\n                        if (fun) {\n                            fun();\n                        }\n                    })\n                    .start();\n            }\n        } else {\n            this.node.active = false;\n            if (fun) {\n                fun();\n            }\n        }\n        SoundMgr.getInstance().playFx(\"win_close\");\n    }\n\n    onClickClose() {\n        this.HideUI();\n    }\n\n    //第一次打开界面\n    FirstOpen() { }\n\n    //FX成功调用一次\n    FxSuccess() { }\n\n    //打开界面更新返现数据\n    UpdataFXData() { }\n\n    sendEvent(eventId, data: any = null) {\n        GameEventManager.getInstance().dispathcGameEvent(eventId, data);\n    }\n\n    onDispathcGameEvent(eventId: GameEvent, eventData: any) {\n        if (super.onDispathcGameEvent) {\n            super.onDispathcGameEvent(eventId, eventData);\n        }\n    }\n}\n"]}